{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ap332/web-app/git/student-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ap332/web-app/git/student-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ap332/web-app/git/student-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){loadStudents();},[]);var loadStudents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://myrestapistud-env.eba-ji57ysmu.ap-south-1.elasticbeanstalk.com/webapi/student/\");case 2:result=_context.sent;setStudents(result.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function loadStudents(){return _ref.apply(this,arguments);};}();var deleteStudent=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"http://myrestapistud-env.eba-ji57ysmu.ap-south-1.elasticbeanstalk.com/webapi/student/delete/\".concat(id));case 2:loadStudents();case 3:case\"end\":return _context2.stop();}},_callee2);}));return function deleteStudent(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-4\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table border shadow\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"PRN NO\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"CLASS\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"CITY\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:students.map(function(student,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1},index),/*#__PURE__*/_jsx(\"td\",{children:student.student_No}),/*#__PURE__*/_jsx(\"td\",{children:student.student_Name}),/*#__PURE__*/_jsx(\"td\",{children:student.student_Class}),/*#__PURE__*/_jsx(\"td\",{children:student.student_City}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary mx-2\",to:\"/viewstudent/\".concat(student.student_No),children:\"View\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-outline-primary mx-2\",to:\"/editstudent/\".concat(student.student_No),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-2\",onClick:function onClick(){return deleteStudent(student.student_No);},children:\"Delete\"})]})]});})})]})})});}","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useParams","Home","students","setStudents","id","loadStudents","get","result","data","deleteStudent","delete","map","student","index","student_No","student_Name","student_Class","student_City"],"sources":["C:/Users/ap332/web-app/git/student-frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Link, useParams } from 'react-router-dom';\r\nexport default function Home() {\r\n    const [students,setStudents]=useState([]);\r\n\r\n    const {id} = useParams()\r\n\r\n    useEffect(()=>{\r\n        loadStudents();\r\n    }, [])\r\n\r\n    const loadStudents = async()=>{\r\n        const result =await axios.get(\"http://myrestapistud-env.eba-ji57ysmu.ap-south-1.elasticbeanstalk.com/webapi/student/\")\r\n        setStudents(result.data);\r\n    };\r\n\r\n    const deleteStudent= async (id)=>{\r\n      await axios.delete(`http://myrestapistud-env.eba-ji57ysmu.ap-south-1.elasticbeanstalk.com/webapi/student/delete/${id}`)\r\n      loadStudents()\r\n    }\r\n\r\n  return (\r\n    <div className='container'>\r\n        <div className='py-4'>\r\n        <table className=\"table border shadow\">\r\n  <thead>\r\n    <tr>\r\n      <th scope=\"col\">#</th>\r\n      <th scope=\"col\">PRN NO</th>\r\n      <th scope=\"col\">NAME</th>\r\n      <th scope=\"col\">CLASS</th>\r\n      <th scope=\"col\">CITY</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    {\r\n      students.map((student,index)=>(\r\n        <tr>\r\n      <th scope=\"row\" key={index}>{index + 1}</th>\r\n      <td>{student.student_No}</td>\r\n      <td>{student.student_Name}</td>\r\n      <td>{student.student_Class}</td>\r\n      <td>{student.student_City}</td>\r\n      <td>\r\n        <Link className='btn btn-primary mx-2'\r\n        to={`/viewstudent/${student.student_No}`}\r\n        >View</Link>\r\n        <Link className='btn btn-outline-primary mx-2'\r\n        to={`/editstudent/${student.student_No}`}\r\n        >Edit</Link>\r\n        <button className='btn btn-danger mx-2' onClick={()=>deleteStudent(student.student_No)}>Delete</button>\r\n      </td>\r\n    </tr>\r\n      ))\r\n    }\r\n    \r\n  </tbody>\r\n</table>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"mZAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAAC,wFACnD,cAAe,SAASC,KAAI,EAAG,CAC3B,cAA6BJ,QAAQ,CAAC,EAAE,CAAC,wCAAlCK,QAAQ,eAACC,WAAW,eAE3B,eAAaH,SAAS,EAAE,CAAjBI,EAAE,YAAFA,EAAE,CAETR,SAAS,CAAC,UAAI,CACVS,YAAY,EAAE,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMA,aAAY,4FAAG,qKACGP,MAAK,CAACQ,GAAG,CAAC,uFAAuF,CAAC,QAAhHC,MAAM,eACZJ,WAAW,CAACI,MAAM,CAACC,IAAI,CAAC,CAAC,qDAC5B,kBAHKH,aAAY,0CAGjB,CAED,GAAMI,cAAa,6FAAE,kBAAOL,EAAE,8IACtBN,MAAK,CAACY,MAAM,uGAAgGN,EAAE,EAAG,QACvHC,YAAY,EAAE,wDACf,kBAHKI,cAAa,6CAGlB,CAEH,mBACE,YAAK,SAAS,CAAC,WAAW,uBACtB,YAAK,SAAS,CAAC,MAAM,uBACrB,eAAO,SAAS,CAAC,qBAAqB,wBAC5C,oCACE,mCACE,WAAI,KAAK,CAAC,KAAK,UAAC,GAAC,EAAK,cACtB,WAAI,KAAK,CAAC,KAAK,UAAC,QAAM,EAAK,cAC3B,WAAI,KAAK,CAAC,KAAK,UAAC,MAAI,EAAK,cACzB,WAAI,KAAK,CAAC,KAAK,UAAC,OAAK,EAAK,cAC1B,WAAI,KAAK,CAAC,KAAK,UAAC,MAAI,EAAK,GACtB,EACC,cACR,uBAEIP,QAAQ,CAACS,GAAG,CAAC,SAACC,OAAO,CAACC,KAAK,qBACzB,mCACF,WAAI,KAAK,CAAC,KAAK,UAAcA,KAAK,CAAG,CAAC,EAAjBA,KAAK,CAAkB,cAC5C,oBAAKD,OAAO,CAACE,UAAU,EAAM,cAC7B,oBAAKF,OAAO,CAACG,YAAY,EAAM,cAC/B,oBAAKH,OAAO,CAACI,aAAa,EAAM,cAChC,oBAAKJ,OAAO,CAACK,YAAY,EAAM,cAC/B,mCACE,KAAC,IAAI,EAAC,SAAS,CAAC,sBAAsB,CACtC,EAAE,wBAAkBL,OAAO,CAACE,UAAU,CAAG,UACxC,MAAI,EAAO,cACZ,KAAC,IAAI,EAAC,SAAS,CAAC,8BAA8B,CAC9C,EAAE,wBAAkBF,OAAO,CAACE,UAAU,CAAG,UACxC,MAAI,EAAO,cACZ,eAAQ,SAAS,CAAC,qBAAqB,CAAC,OAAO,CAAE,yBAAIL,cAAa,CAACG,OAAO,CAACE,UAAU,CAAC,EAAC,UAAC,QAAM,EAAS,GACpG,GACF,EACF,CAAC,EAGE,GACF,EACM,EACJ,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}